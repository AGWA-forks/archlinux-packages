# Maintainer: Yuval Adam <yuval at y3xz dot com> PGP-Key: 271386AA2EB7672F
# Contributor: Kenny Rasschaert <kenny dot rasschaert at gmail dot com> PGP-Key: 1F70454121E41419

pkgname=rocket
pkgver=0.3.2
pkgrel=1
pkgdesc="App container runtime"
arch=('x86_64')
url="https://github.com/coreos/rocket"
license=(apache)
makedepends=('cpio' 'go' 'squashfs-tools')
provides=('rocket')
source=("https://github.com/coreos/rocket/archive/v${pkgver}.tar.gz")
sha1sums=('9a90f122c0e52967c674f204db0fbc8817670e3b')

build() {
  cd "${pkgname}-${pkgver}"
  RKT_STAGE1_IMAGE=/usr/share/rkt/stage1.aci ./build
}

package() {
  cd "${pkgname}-${pkgver}"
  mkdir -p "$pkgdir/usr/{bin,share}"
  install -Dm755 bin/rkt "$pkgdir/usr/bin/rkt"
  install -Dm644 bin/stage1.aci "$pkgdir/usr/share/rkt/stage1.aci"
}

# vim:set ts=2 sw=2 et:
